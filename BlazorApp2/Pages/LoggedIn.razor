@* @page "/authentication/login-callback"
@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication

@inject NavigationManager Navigation
@inject AuthenticationStateProvider AuthenticationStateProvider


<h3>LoggedIn</h3>

<AuthorizeView>
    <Authorized>
        Hello  @(context.User.Identity?.Name ?? string.Empty)
    </Authorized>
    <NotAuthorized>
        Login first
    </NotAuthorized>
</AuthorizeView>

@code {

    protected override async Task OnInitializedAsync()
    {
        // Here, you'd handle the Auth0 login callback and process the authentication state
        var authenticationState = await AuthenticationStateProvider.GetAuthenticationStateAsync();

        // After processing, navigate within the SPA
        Navigation.NavigateTo("/", true);
    }

    // protected override async Task OnInitializedAsync()
    // {
    //     await Task.Delay(250);
    //     await base.OnInitializedAsync();
    //     StateHasChanged();
    //     Navigation.NavigateTo("/");
    // }

    // public void Dispose()
    // {
        
    // }
}
 *@